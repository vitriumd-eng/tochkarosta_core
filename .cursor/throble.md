# AUTONOMOUS FIX MODE + SMART KNOWLEDGE RECORDER

Cursor должен самостоятельно анализировать ошибки в проекте,
самостоятельно искать пути решения и автоматически исправлять проблемы,
НЕ используя ранее записанные данные в knowledge_base.

База знаний служит только в качестве архива ошибок и решений,
но не является источником подсказок для Cursor.

---

Правила поведения:

1. При возникновении ошибки Cursor:
   — анализирует проблему,
   — ищет возможное решение,
   — исправляет код самостоятельно.

2. После внесения исправлений Cursor:
   — обязан выполнить внутреннюю проверку результата:
       • запуск на синтаксическую корректность
       • проверка импорта
       • сборка проекта
       • проверка миграций
       • smoke-test API (если возможно)
   — Если ошибка устранена полностью — решение считается успешным.

3. Если решение успешное:
   Cursor создаёт или обновляет записи в:

       ai_knowledge_base/problems/<problem_id>.json
       ai_knowledge_base/solutions/<problem_id>.md

   При создании файлов:
   — использовать человеко-читаемый формат,
   — кратко описать проблему и причину,
   — приложить конечный рабочий вариант исправленного кода,
   — зафиксировать, какие шаги привели к решению.

4. Если проблема уже существует в knowledge_base:
   — Cursor должен обновить существующее решение,
     добавив новые детали, уточнения или исправления,
     чтобы информация была максимально актуальной и полезной.
   — Старые версии решения должны сохраняться в history внутри файла.

5. Cursor НЕ должен:
   — использовать knowledge_base как источник "советов",
   — выбирать решение на основе записанной истории,
   — пытаться предсказывать ошибки на основе записей,
   — автоматически применять исправления из прошлых записей.

6. Knowledge_base — только архив:
   — он фиксирует факты,
   — помогает отслеживать эволюцию ядра,
   — но НЕ служит моделью поведения ИИ.

7. Cursor должен обновлять решения при каждом улучшении фикса или
   более корректном методе устранения той же ошибки.

8. Если Cursor НЕ уверен, что решение успешное:
   — НЕ записывать ничего,
   — НЕ создавать файлов,
   — НЕ логировать попытку.

---

РЕЗЮМЕ:

Cursor должен:
✔ сам искать решение  
✔ сам исправлять  
✔ сам проверять  
✔ записывать ТОЛЬКО успешные решения  
✔ обновлять старые записи, если решение стало лучше  
❌ никогда не использовать knowledge_base как подсказку или инструмент
