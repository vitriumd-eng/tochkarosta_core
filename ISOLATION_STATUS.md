# –°—Ç–∞—Ç—É—Å –∏–∑–æ–ª—è—Ü–∏–∏ –º–æ–¥—É–ª—è shop –æ—Ç —è–¥—Ä–∞

## ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ

### 1. TypeScript –∏–∑–æ–ª—è—Ü–∏—è
- –ú–æ–¥—É–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ `tsconfig.json`: `"exclude": ["../modules"]`
- –û—à–∏–±–∫–∏ –º–æ–¥—É–ª–µ–π –ù–ï –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–±–æ—Ä–∫—É core
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `@ts-ignore` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- –¢–∏–ø—ã –º–æ–¥—É–ª–µ–π –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ core

### 2. Frontend –∏–∑–æ–ª—è—Ü–∏—è
- –°–≤–æ–π `package.json` —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- –°–≤–æ–π `next.config.js`
- –°–≤–æ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `app/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ù–µ—Ç –ø—Ä—è–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ –∏–∑ core-frontend

### 3. Runtime –∏–∑–æ–ª—è—Ü–∏—è
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ webpack alias
- –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ runtime, –Ω–µ –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## ‚ö†Ô∏è –°–≤—è–∑–∞–Ω–æ —Å —è–¥—Ä–æ–º (—á–µ—Ä–µ–∑ SDK)

### 1. Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SDK —è–¥—Ä–∞
```python
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± - —á–µ—Ä–µ–∑ SDK
from app.modules.sdk import (
    get_subscription_status,
    get_tenant_info,
    get_tenant_database_url
)
```
- ‚úÖ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ core
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–π SDK
- ‚úÖ SDK - —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç middleware —è–¥—Ä–∞
- –ú–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç `tenant_id` –∏–∑ headers (X-Tenant-ID)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç middleware —è–¥—Ä–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ headers
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ tenant

### 3. Webpack alias –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
```js
// next.config.js
config.resolve.alias = {
  '@modules': path.resolve(__dirname, '../modules'),
}
```

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏

### –°—Ç–µ–ø–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏: 80%

| –ê—Å–ø–µ–∫—Ç | –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|--------|-----------|------------|
| TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è | ‚úÖ –î–∞ | –û—à–∏–±–∫–∏ –º–æ–¥—É–ª–µ–π –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ core |
| Frontend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚úÖ –î–∞ | –°–≤–æ–∏ node_modules |
| Backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SDK (–ø—Ä–∞–≤–∏–ª—å–Ω–æ) |
| Runtime –∑–∞–≥—Ä—É–∑–∫–∞ | ‚úÖ –î–∞ | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã |
| –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ | ‚úÖ –î–∞ | –°–≤–æ—è –ë–î, —Å–≤–æ–∏ –º–æ–¥–µ–ª–∏ |
| –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ | ‚ö†Ô∏è –ß–µ—Ä–µ–∑ SDK | SDK - –ø—É–±–ª–∏—á–Ω—ã–π API |

## üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ß—Ç–æ —Ö–æ—Ä–æ—à–æ:
1. ‚úÖ –ú–æ–¥—É–ª—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç —Å–±–æ—Ä–∫–∏ core
2. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SDK –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
3. ‚úÖ –°–≤–æ–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
4. ‚úÖ –¢–∏–ø—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ core

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. üì¶ SDK –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–∞–∫–µ—Ç–æ–º (–¥–ª—è production)
2. üîå –ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å fallback, –µ—Å–ª–∏ SDK –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. üìù SDK –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω

## ‚úÖ –í—ã–≤–æ–¥

**–ú–æ–¥—É–ª—å shop –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç —è–¥—Ä–∞ –≤ –ø–ª–∞–Ω–µ:**
- ‚úÖ –°–±–æ—Ä–∫–∏ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**–ú–æ–¥—É–ª—å —Å–≤—è–∑–∞–Ω —Å —è–¥—Ä–æ–º —á–µ—Ä–µ–∑:**
- ‚ö†Ô∏è SDK (–ø—É–±–ª–∏—á–Ω—ã–π API) - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚ö†Ô∏è Middleware headers - –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è tenant –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã!**

–ú–æ–¥—É–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã, –Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —è–¥—Ä–æ–º —á–µ—Ä–µ–∑ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π SDK (–ø—É–±–ª–∏—á–Ω—ã–π API), –∞ –Ω–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π —è–¥—Ä–∞.




