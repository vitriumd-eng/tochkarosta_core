# Политика управления зависимостями

## Правило использования зависимостей

Cursor обязан использовать только стабильные версии зависимостей.

### Обязательные требования:

1. **Использовать только стабильные версии (SemVer без beta/alpha/rc)**
   - Никогда не использовать prerelease-версии без прямого запроса пользователя
   - Проверять, что версия не содержит суффиксов: beta, alpha, rc, pre, dev, snapshot, unstable

2. **Использовать фиксированные версии**
   - Python (requirements.txt): использовать `==` для точного указания версии
   - Node.js (package.json): предпочтительно использовать точные версии без `^`, `~`, `>=`, `<=`
   - Если диапазон версий необходим, использовать безопасные ограничения

3. **Проверка перед добавлением**
   - Убедиться, что используемая версия является стабильной
   - Проверять, что диапазон версий не приведёт к установке нестабильных пакетов
   - Предупреждать, если пакет доступен только в нестабильных версиях

4. **Остановка при обнаружении нестабильных версий**
   - Если обнаружена попытка установки нестабильной версии - остановить генерацию
   - Предупредить пользователя и предложить стабильную альтернативу

### Примеры правильного указания версий:

**Python (requirements.txt):**
```
fastapi==0.104.1          # Правильно - фиксированная стабильная версия
pydantic==2.5.0           # Правильно
fastapi>=0.104.0,<0.105.0 # Допустимо - безопасный диапазон стабильных версий
fastapi==0.104.1b1        # НЕПРАВИЛЬНО - beta версия
```

**Node.js (package.json):**
```json
{
  "dependencies": {
    "next": "14.0.4",           // Правильно - точная версия
    "react": "18.2.0",          // Правильно
    "typescript": "^5.3.3"      // Допустимо - минорные обновления
  }
}
```

### Текущее состояние:

**Бэкенд (Python):**
- Все версии фиксированы с `==`
- Нет нестабильных версий
- Статус: [OK]

**Фронтенд (Node.js):**
- Используются диапазоны версий с `^` (минорные обновления)
- Все базовые версии стабильные
- Статус: [OK] (рекомендуется перейти на точные версии для production)

### Действия при нарушении:

1. Остановить добавление зависимости
2. Предупредить пользователя о нестабильной версии
3. Предложить последнюю стабильную версию
4. Спросить разрешение на использование нестабильной версии (если это необходимо)

