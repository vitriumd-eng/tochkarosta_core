# –£–õ–£–ß–®–ï–ù–ò–Ø –ò–°–ü–†–ê–í–õ–ï–ù–´

**–î–∞—Ç–∞:** 2025-01-16

---

## –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚úÖ 1. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω notify_tenant() –≤ SDK

**–§–∞–π–ª:** `core-backend/app/modules/sdk.py`

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `notify_tenant()` –≤–º–µ—Å—Ç–æ TODO
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: email, sms, push
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ tenant –∏–∑ –ë–î
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ –ª–æ–º–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫)

**–û—Å—Ç–∞–ª–æ—Å—å:**
- ‚ö†Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (SendGrid, Twilio, Firebase) - –ø–æ–º–µ—á–µ–Ω–æ TODO

---

### ‚úÖ 2. –£–ª—É—á—à–µ–Ω—ã CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–§–∞–π–ª—ã:** 
- `core-backend/app/core/config.py`
- `core-backend/app/main.py`

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `cors_origins_list` –≤ Settings
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–º `CORS_ORIGINS=*` –¥–ª—è production
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ wildcard –∏ —Å–ø–∏—Å–∫–∞ origins

---

### ‚úÖ 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

1. **`SETUP_DATABASE.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ DATABASE_URL
   - –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
   - –ü—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –ë–î
   - –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Docker

2. **`DEPLOYMENT.md`** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
   - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
   - Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - Troubleshooting

3. **`IMPROVEMENTS.md`** - –°–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

### ‚ö†Ô∏è 4. DATABASE_URL - —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω—É–∂–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

**–†–µ—à–µ–Ω–∏–µ:** 
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `SETUP_DATABASE.md` —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—Ä—É—á–Ω—É—é –∑–∞–º–µ–Ω–∏—Ç—å `user:password` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `core-backend/.env`
2. –ù–∞–π–¥–∏—Ç–µ `DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/modular_saas_core`
3. –ó–∞–º–µ–Ω–∏—Ç–µ `user:password` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ PostgreSQL
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ `modular_saas_core` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

---

## –ù–ï –í–´–ü–û–õ–ù–ï–ù–û (—Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)

### ‚ö†Ô∏è Rate Limiting

**–°—Ç–∞—Ç—É—Å:** –£–ø–æ–º—è–Ω—É—Ç–æ –≤ TODO, –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è

**–ì–¥–µ:** `core-backend/app/api/v1/routes/auth.py`
```python
# TODO: Implement rate limiting per IP/phone
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `slowapi` –¥–ª—è FastAPI
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è /send-code –∏ /login endpoints

---

### ‚ö†Ô∏è SMS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–°—Ç–∞—Ç—É—Å:** –ü–æ–º–µ—á–µ–Ω–æ TODO
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ù–∏–∑–∫–∏–π (–¥–ª—è MVP –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)

**–ì–¥–µ:** `core-backend/app/services/sms.py`
```python
# TODO: Integrate with actual SMS provider (Twilio, etc.)
```

---

### ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (17 —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π
**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints
- –¢–µ—Å—Ç—ã –¥–ª—è –º–æ–¥—É–ª–µ–π
- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞

---

## –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å DATABASE_URL** (–≤—Ä—É—á–Ω—É—é)
   - –°–º. `SETUP_DATABASE.md`

2. ‚úÖ **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend** –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è DATABASE_URL

3. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ö–æ–¥ –≤ –¥–∞—à–±–æ—Ä–¥**

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ:

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiting
2. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:

1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SMS —Å–µ—Ä–≤–∏—Å
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ security audit

---

## –ò–¢–û–ì

‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- notify_tenant() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- CORS —É–ª—É—á—à–µ–Ω
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ DATABASE_URL —Å–æ–∑–¥–∞–Ω—ã

‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å DATABASE_URL –≤ .env —Ñ–∞–π–ª–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL

üìù **–û—Å—Ç–∞–ª–æ—Å—å:**
- Rate limiting
- SMS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-16





